<template name="commandSetup">
    <div class="CADContainer">
        {{#if isInRole 'GlobalAdmin'}}
        <h4>Command Line Setup</h4>
        <div class="row">
          <div class="col s12 m12">
            <div class="card-panel red lighten-1">
              <span class="white-text"><strong>WARNING:</strong> This dialog should <strong>NEVER</strong> be used by a non-developer!  A Command Line item with no associated actions programmatically created will simply fail!
              </span>
            </div>
          </div>
        </div>
        <div class="row">
            <div class="input-field col s6">
                <input type="text" class="cmdActual" id="cmdActual" />
                <label for="cmdActual">Command</label>
            </div>
            <div class="input-field col s6">
                <input type="text" class="cmdDesc" id="cmdDesc" />
                <label for="cmdDesc">Command Description</label>
            </div>
        </div>
        <div class="row">
            <div class="input-field col s12">
                <input type="text" class="cmdArgsStructure" id="cmdArgsStructure" />
                <label for="cmdArgsStructure">Argument Structure</label>
            </div>
        </div>
        <div class="row">
            <div class="col s4">
                <label>
                    <input type="checkbox" class="systemCmdCode" id="systemCmdCode" />
                    <span>System Code</span>
                </label>
            </div>
        </div>
        <div class="row">
            <div class="col s6">
                <a class="waves-effect waves-light btn-large cancelSaveCommand orange left" id="cancelSaveCommand">Cancel</a>
            </div>
            <div class="col s6">
                <a class="waves-effect waves-light btn-large saveCommand green right" id="saveCommand">Save</a>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <h5>Command List</h5>
            </div>
        </div>
        <div class="commandsTable">
            <div class="row">
                <div class="col s12">
                    <table class="{{#if $eq userPrefs.themeOverall 'Light'}}striped highlight{{else}}{{userPrefs.themeBackground}} {{userPrefs.themeTextColor}}{{/if}}">
                        <thead>
                            <tr>
                                <th>Command</th>
                                <th>Description</th>
                                <th>Arguments Structure</th>
                                <th>System Code</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each commandItems}}
                                <tr class="thin {{#if $in userPrefs.themeOverall 'Dark' 'Custom'}}infoRow{{/if}}" id="{{_id}}">
                                    <td class="thin">{{cmd}}</td>
                                    <td class="thin">{{cmdDesc}}</td>
                                    <td class="thin">{{cmdArgsStruct}}</td>
                                    <td class="thin">{{#if system}}<i class="material-icons">check</i>{{/if}}</td>
                                    <td class="thin">
                                        <i class="material-icons clickableIcon removeCommandItem">delete</i>
                                        <i class="material-icons clickableIcon editCommandItem">edit</i>
                                    </td>
                                </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        {{> confirmationDialogModal}}
        {{else}}
            <h5>You don't appear to have permissions to view this area. If you believe this is a mistake, please contact your system administrator. You can navigate to your main screen using the menu (<i class="material-icons">menu</i>) in the upper left.</h5>
        {{/if}}
    </div>
</template>
